version: '3.8'
services:
  anvil:
    image: ghcr.io/foundry-rs/foundry:latest
    container_name: anvil-node
    ports:
      - "8545:8545"   # RPC cho MetaMask
      - "8546:8546"   # Optional: WebSocket
    volumes:
      - ./anvil-data:/data   # Lưu dữ liệu persist
    command: >
      anvil
      --host 0.0.0.0          # QUAN TRỌNG: cho phép host kết nối
      --port 8545
      --chain-id 1337
      --mnemonic "test test test test test test test test test test test junk"
      --db /data/anvil.db
      --accounts 10
      --balance 1000000000000000000000
